<div class="container">
    <h3 class="card-title">
        Regisztráció
    </h3>
    <div>
        <form [formGroup]="form" (ngSubmit)="register()">
            <div class="form-group">
                <mat-form-field>
                    <input matInput type="text" id="name" class="form-control" placeholder="Név" formControlName="name">
                </mat-form-field>
                <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
                    <div *ngIf="name.errors['required']">
                        A név kötelező!
                    </div>
                    <div *ngIf="name.errors['minlength']">
                        Minimum 5 karakter hosszú kell legyen!
                    </div>
                </div>
            </div>
            <div class="form-group">
                <mat-form-field>
                    <mat-select matInput id="userRole" class="form-control" placeholder="Szerepkör" formControlName="userRole">
                        <mat-option [value]="roles['Admin']">Menedzser</mat-option>
                        <mat-option [value]="roles['Moderator']">Gyártásvezető</mat-option>
                        <mat-option [value]="roles['Basic']">Beszállító</mat-option>
                    </mat-select>
                </mat-form-field>
                <div *ngIf="userRole.invalid && (userRole.dirty || userRole.touched)" class="alert alert-danger">
                    <div *ngIf="userRole.errors['required']">
                        Szerepet választani kötelező!
                    </div>
                </div>
            </div>
            <div class="form-group">
                <mat-form-field>
                    <input matInput type="email" id="email" class="form-control" placeholder="Email" formControlName="email">
                </mat-form-field>
                <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
                    <div *ngIf="email.errors['required']">
                        Az email cím kötelező
                    </div>
                    <div *ngIf="email.errors['email']">
                        Az email megfelelő email cím kell legyen!
                    </div>
                </div>
            </div>
            <div formGroupName="passwords">
                <div class="form-group">
                    <mat-form-field>
                        <input matInput type="password" id="password" class="form-control" placeholder="Jelszó" formControlName="password">
                    </mat-form-field>
                    <div *ngIf="passwords.invalid && (passwords.dirty || passwords.touched)">
                        <div *ngIf="passwords.errors['passwordEmpty']" class="alert alert-danger">
                            A jelszó kötelező!
                        </div>
                        <div *ngIf="passwords.errors['passwordTooShort']" class="alert alert-danger">
                            Minimum 8 karakter hosszú kell legyen!
                        </div>
                        <div *ngIf="passwords.errors['passwordNotMatch']" class="alert alert-danger">
                            A két jelszó nem egyezik meg!
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <mat-form-field>
                        <input matInput type="password" id="confirmPassword" class="form-control" placeholder="Jelszó megerősítés" formControlName="confirmPassword">
                    </mat-form-field>
                    <div *ngIf="passwords.invalid && (passwords.dirty || passwords.touched)">
                        <div *ngIf="passwords.errors['confirmPasswordEmpty']" class="alert alert-danger">
                            A jelszó kötelező!
                        </div>
                        <div *ngIf="passwords.errors['passwordTooShort']" class="alert alert-danger">
                            Minimum 8 karakter hosszú kell legyen!
                        </div>
                        <div *ngIf="passwords.errors['passwordNotMatch']" class="alert alert-danger">
                            A két jelszó nem egyezik meg!
                        </div>
                    </div>
                </div>
            </div>
            <button mat-raised-button type="submit" class="btn btn-primary" [disabled]="!this.form.valid">
              Regisztráció
            </button>
        </form>
    </div>
</div>