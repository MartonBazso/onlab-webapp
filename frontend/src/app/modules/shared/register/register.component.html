<div class="container">
    <form [formGroup]="form" (ngSubmit)="register()">
        <h3 class="card-title">
            Regisztráció
        </h3>
        <div class="form-group">
            <mat-form-field>
                <input matInput type="text" id="userName" class="form-control" placeholder="Felhasználónév" formControlName="userName">
            </mat-form-field>
            <div *ngIf="userName.invalid && (userName.dirty || userName.touched)" class="alert alert-danger">
                <div *ngIf="userName.errors['required']">
                    A Felhasználónév kötelező!
                </div>
                <div *ngIf="userName.errors['minlength']">
                    Minimum 5 karakter hosszú kell legyen!
                </div>
            </div>
        </div>
        <div class="form-group">
            <mat-form-field>
                <input matInput type="text" id="fullName" class="form-control" placeholder="Teljes Név" formControlName="fullName">
            </mat-form-field>
            <div *ngIf="fullName.invalid && (fullName.dirty || fullName.touched)" class="alert alert-danger">
                <div *ngIf="fullName.errors['required']">
                    A név kötelező!
                </div>
                <div *ngIf="fullName.errors['minlength']">
                    Minimum 5 karakter hosszú kell legyen!
                </div>
            </div>
        </div>
        <div class="form-group">
            <mat-form-field>
                <mat-select matInput id="role" class="form-control" placeholder="Szerepkör" formControlName="role">
                    <mat-option [value]="roles['Admin']">Adminisztrátor</mat-option>
                    <mat-option [value]="roles['Moderator']">Moderátor</mat-option>
                    <mat-option [value]="roles['Basic']">Alap felhasználó</mat-option>
                </mat-select>
            </mat-form-field>
            <div *ngIf="role.invalid && (role.dirty || role.touched)" class="alert alert-danger">
                <div *ngIf="role.errors['required']">
                    Szerepet választani kötelező!
                </div>
            </div>
        </div>
        <div class="form-group">
            <mat-form-field>
                <input matInput type="email" id="email" class="form-control" placeholder="Email" formControlName="email">
            </mat-form-field>
            <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
                <div *ngIf="email.errors['required']">
                    Az email cím kötelező
                </div>
                <div *ngIf="email.errors['email']">
                    Az email megfelelő email cím kell legyen!
                </div>
            </div>
        </div>
        <div formGroupName="passwords" class="passwords">
            <div class="form-group">
                <mat-form-field>
                    <input matInput type="password" id="password" class="form-control" placeholder="Jelszó" formControlName="password">
                </mat-form-field>
                <div *ngIf="passwords.invalid && (passwords.dirty || passwords.touched)">
                    <div *ngIf="passwords.errors['passwordEmpty']" class="alert alert-danger">
                        A jelszó kötelező!
                    </div>
                    <div *ngIf="passwords.errors['passwordTooShort']" class="alert alert-danger">
                        Minimum 8 karakter hosszú kell legyen!
                    </div>
                    <div *ngIf="passwords.errors['passwordNotMatch']" class="alert alert-danger">
                        A két jelszó nem egyezik meg!
                    </div>
                </div>
            </div>
            <div class="form-group">
                <mat-form-field>
                    <input matInput type="password" id="confirmPassword" class="form-control" placeholder="Jelszó megerősítés" formControlName="confirmPassword">
                </mat-form-field>
                <div *ngIf="passwords.invalid && (passwords.dirty || passwords.touched)">
                    <div *ngIf="passwords.errors['confirmPasswordEmpty']" class="alert alert-danger">
                        A jelszó kötelező!
                    </div>
                    <div *ngIf="passwords.errors['passwordTooShort']" class="alert alert-danger">
                        Minimum 8 karakter hosszú kell legyen!
                    </div>
                    <div *ngIf="passwords.errors['passwordNotMatch']" class="alert alert-danger">
                        A két jelszó nem egyezik meg!
                    </div>
                </div>
            </div>
        </div>
        <button mat-raised-button type="submit" class="btn btn-primary" [disabled]="!this.form.valid">
              Regisztráció
            </button>
    </form>
</div>